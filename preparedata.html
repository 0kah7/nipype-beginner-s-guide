

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Nipype Beginner&#39;s Guide &mdash; Beginner&#39;s Guide to Nipype v0.4 v0.3 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Beginner&#39;s Guide to Nipype v0.4 v0.3 documentation" href="index.html" />
    <link rel="next" title="Example of a first level analysis pipeline" href="firstLevelExample.html" />
    <link rel="prev" title="How to build a pipeline" href="howToBuildAPipeline.html" />
 
<meta name="keywords" content="nipype, python, guide">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24958678-1']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
 <a href="index.html">
  <img src="_static/nipype-beginners-guide-banner-bg.png" alt="NIPY logo"  border="0" />
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="firstLevelExample.html" title="Example of a first level analysis pipeline"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="howToBuildAPipeline.html" title="How to build a pipeline"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Beginner&#39;s Guide to Nipype v0.4 v0.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Prepare Data for Nipype</a><ul>
<li><a class="reference internal" href="#convert-dicoms-into-niftis">Convert Dicoms into Niftis</a><ul>
<li><a class="reference internal" href="#import-modules">Import modules</a></li>
<li><a class="reference internal" href="#define-experiment-specific-parameters">Define experiment specific parameters</a></li>
<li><a class="reference internal" href="#define-nodes-to-use">Define nodes to use</a></li>
<li><a class="reference internal" href="#define-pipeline">Define pipeline</a></li>
<li><a class="reference internal" href="#specify-node-connections">Specify node connections</a></li>
<li><a class="reference internal" href="#important-for-nipype-0-4-users">Important for Nipype 0.4 users</a></li>
<li><a class="reference internal" href="#run-pipeline">Run pipeline</a></li>
<li><a class="reference internal" href="#clean-up-optional">Clean up (optional)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-to-create-and-read-graph-dot-files">How to create and read graph.dot files</a><ul>
<li><a class="reference internal" href="#graph2use-flat-graph-dot">graph2use=&#8217;flat&#8217; - graph.dot</a></li>
<li><a class="reference internal" href="#graph2use-flat-graph-detailed-dot">graph2use=&#8217;flat&#8217; - graph_detailed.dot</a></li>
<li><a class="reference internal" href="#graph2use-exec-graph-detailed-dot">graph2use=&#8217;exec&#8217; - graph_detailed.dot</a></li>
</ul>
</li>
<li><a class="reference internal" href="#run-recon-all-with-nipype">Run Recon-All with Nipype</a><ul>
<li><a class="reference internal" href="#prepare-modules-and-important-variables">Prepare modules and important variables</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="howToBuildAPipeline.html"
                        title="previous chapter">How to build a pipeline</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="firstLevelExample.html"
                        title="next chapter">Example of a first level analysis pipeline</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/preparedata.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="prepare-data-for-nipype">
<h1>Prepare Data for Nipype<a class="headerlink" href="#prepare-data-for-nipype" title="Permalink to this headline">¶</a></h1>
<p>The first step after data acquisition is as expected: <strong>Preparation!</strong> Before we can run the data threw a pipeline we have to convert the dicoms into niftis and execute the recon-all process for each subject. Otherwise we can&#8217;t use the benefits of FreeSurfer. Because this can be done in rather little code it is a very good example to get started.</p>
<div class="section" id="convert-dicoms-into-niftis">
<h2>Convert Dicoms into Niftis<a class="headerlink" href="#convert-dicoms-into-niftis" title="Permalink to this headline">¶</a></h2>
<p>Let us start with the conversion of the 3D dicoms into 4D nifti files.</p>
<div class="section" id="import-modules">
<h3>Import modules<a class="headerlink" href="#import-modules" title="Permalink to this headline">¶</a></h3>
<p>The first step of every pipeline is always to import all the necessary modules. In this case we only need the basic modules <tt class="docutils literal"><span class="pre">os</span></tt>, <tt class="docutils literal"><span class="pre">util</span></tt>, <tt class="docutils literal"><span class="pre">pipeline.engine</span></tt> and the <tt class="docutils literal"><span class="pre">freesurfer</span> <span class="pre">interface</span></tt>.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>                                    <span class="c"># system functions</span>
<span class="kn">import</span> <span class="nn">nipype.interfaces.freesurfer</span> <span class="kn">as</span> <span class="nn">fs</span>    <span class="c"># freesurfer</span>
<span class="kn">import</span> <span class="nn">nipype.interfaces.utility</span> <span class="kn">as</span> <span class="nn">util</span>     <span class="c"># utility</span>
<span class="kn">import</span> <span class="nn">nipype.pipeline.engine</span> <span class="kn">as</span> <span class="nn">pe</span>          <span class="c"># pypeline engine</span>
</pre></div>
</div>
</div>
<div class="section" id="define-experiment-specific-parameters">
<h3>Define experiment specific parameters<a class="headerlink" href="#define-experiment-specific-parameters" title="Permalink to this headline">¶</a></h3>
<p>After importing the modules, it is recommended to specify all the necessary variables like the path to the experiment folder, a list of the subject identifiers etc.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="c">#Specification of the folder where the dicom-files are located at</span>
<span class="n">experiment_dir</span> <span class="o">=</span> <span class="s">&#39;~SOMEPATH/experiment&#39;</span>

<span class="c">#Specification of a list containing the identifier of each subject</span>
<span class="n">subjects_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;subject1&#39;</span><span class="p">,</span><span class="s">&#39;subject2&#39;</span><span class="p">,</span><span class="s">&#39;subject3&#39;</span><span class="p">,</span><span class="s">&#39;subject4&#39;</span><span class="p">]</span>

<span class="c">#Specification of the name of the dicom and output folder</span>
<span class="n">dicom_dir_name</span> <span class="o">=</span> <span class="s">&#39;dicom&#39;</span> <span class="c">#if the path to the dicoms is: &#39;~SOMEPATH/experiment/dicom&#39;</span>
<span class="n">data_dir_name</span> <span class="o">=</span> <span class="s">&#39;data&#39;</span>   <span class="c">#if the path to the data should be: &#39;~SOMEPATH/experiment/data&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="define-nodes-to-use">
<h3>Define nodes to use<a class="headerlink" href="#define-nodes-to-use" title="Permalink to this headline">¶</a></h3>
<p>Let us now construct the three nodes we want to use to create our preparation pipeline. First we need to define the infosource-node which specifies on which subjects the workflow is run on.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="c">#Node: Infosource - we use IdentityInterface to create our own node, to specify</span>
<span class="c">#                   the list of subjects the pipeline should be executed on</span>
<span class="n">infosource</span> <span class="o">=</span> <span class="n">pe</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="n">util</span><span class="o">.</span><span class="n">IdentityInterface</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;subject_id&#39;</span><span class="p">]),</span>
                                                      <span class="n">name</span><span class="o">=</span><span class="s">&quot;infosource&quot;</span><span class="p">)</span>
<span class="n">infosource</span><span class="o">.</span><span class="n">iterables</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;subject_id&#39;</span><span class="p">,</span> <span class="n">subjects_list</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we define the main node for the data conversion, DICOMConvert.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="c">#Node: DICOMConvert - converts the .dcm files into .nii and moves them into</span>
<span class="c">#                     the folder &quot;data&quot; with a subject specific subfolder</span>
<span class="n">dicom2nifti</span> <span class="o">=</span> <span class="n">pe</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="n">fs</span><span class="o">.</span><span class="n">DICOMConvert</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;dicom2nifti&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If we now look at the section nipype.interfaces.freesurfer.preprocess about the <a class="reference external" href="http://www.mit.edu/~satra/nipype-nightly/interfaces/generated/nipype.interfaces.freesurfer.preprocess.html#dicomconvert">DICOMConvert</a> node we see the following:</p>
<p><strong>[Mandatory]</strong></p>
<div class="highlight-python"><pre>base_output_dir : (a directory name)
                  directory in which subject directories are created
dicom_dir : (an existing directory name)
            dicom directory from which to convert dicom files</pre>
</div>
<p>Remember that the path to the dicoms changes from subject to subject. Therefore we can&#8217;t declare the variable <tt class="docutils literal"><span class="pre">dicom_dir</span></tt> right away. But because we already have an <tt class="docutils literal"><span class="pre">infosource</span></tt> node, we will be able to overcome this problem when we establish the connections between the nodes. Let us first define the path to the output dir:</p>
<div class="highlight-py"><div class="highlight"><pre><span class="n">dicom2nifti</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">base_output_dir</span> <span class="o">=</span> <span class="n">experiment_dir</span> <span class="o">+</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">data_dir_name</span>
<span class="c">#This will store the output to &#39;~SOMEPATH/experiment/data&#39;</span>
</pre></div>
</div>
<p>Now we have to specify the <strong>optional</strong> inputs <tt class="docutils literal"><span class="pre">file_mapping</span></tt>, <tt class="docutils literal"><span class="pre">out_type</span></tt> and <tt class="docutils literal"><span class="pre">subject_dir</span></tt>.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="n">dicom2nifti</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">file_mapping</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;nifti&#39;</span><span class="p">,</span><span class="s">&#39;*.nii&#39;</span><span class="p">),(</span><span class="s">&#39;info&#39;</span><span class="p">,</span><span class="s">&#39;dicom.txt&#39;</span><span class="p">),(</span><span class="s">&#39;dti&#39;</span><span class="p">,</span><span class="s">&#39;*dti.bv*&#39;</span><span class="p">)]</span>
<span class="n">dicom2nifti</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">out_type</span> <span class="o">=</span> <span class="s">&#39;nii&#39;</span>
<span class="n">dicom2nifti</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">subject_dir_template</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span>
</pre></div>
</div>
<p>This <tt class="docutils literal"><span class="pre">dicom2nifti</span></tt> node will convert the dicoms into niftis and create a summary text file calls <strong>shortinfo.txt</strong> which contains most of the important informations about the dicoms:</p>
<div class="highlight-none"><div class="highlight"><pre>dcmdir ~SOMEPATH/experiment/dicom/subject1
PatientName subject1
StudyDate 20150403
StudyTime 083819.578000
1 fl2d1 localizer_BC 578000-1-1.dcm
2 fl2d1 localizer_32 578000-2-1.dcm
3 fl3d1_ns AAScout 578000-3-100.dcm
4 tfl3d1_ns T1_MPRAGE_1mm_iso 578000-4-100.dcm
5 epfid2d1_90 ge_functionals_2meas 578000-5-1.dcm
6 fm2d2r field_mapping 578000-6-10.dcm
7 fm2d2r field_mapping 578000-7-10.dcm
8 epir2d1_96 ep2d_t1w 578000-8-10.dcm
9 epfid2d1_96 ge_functionals_125 578000-9-10.dcm
10 epfid2d1_96 ge_functionals_125 578000-10-10.dcm
</pre></div>
</div>
<p>But because we also want to know how many time points were acquired and what the resolution of the dicoms are we&#8217;ll have to run a node called <tt class="docutils literal"><span class="pre">ParseDICOMDIR</span></tt> which gives us an output text file with the following content:</p>
<div class="highlight-none"><div class="highlight"><pre>  1 578000-1-2.dcm    1 0     2 0  512 512   3   1    0.0086   4.0000 localizer_BC
  4 578000-2-2.dcm    2 0     2 0  512 512   3   1    0.0086   4.0000 localizer_32
  7 578000-3-1.dcm    3 0     1 0  128 128 128   2    0.0024   1.1300 AAScout
263 578000-4-1.dcm    4 0     1 0  256 256 176   1    2.5300   3.4800 T1_MPRAGE_1mm_iso
439 578000-5-1.dcm    5 0     1 1   96  90  28   2    9.5000  30.0000 ge_functionals_2meas
441 578000-6-1.dcm    6 0     1 0   96  96  28   1    0.5000   2.8300 field_mapping
469 578000-7-1.dcm    7 0     1 0   96  96  28   1    0.5000   5.2900 field_mapping
497 578000-8-1.dcm    8 0     1 0   96  96  28   1   10.0000  56.0000 ep2d_t1w
525 578000-9-1.dcm    9 1     2 1   96  96  28  60    8.0000  30.0000 ge_functionals_125
585 578000-10-1.dcm  10 1     2 1   96  96  28  60    8.0000  30.0000 ge_functionals_125
</pre></div>
</div>
<p>This output shows us that the T1-file has resolution of 256x256x176 and that the two functional runs, file 9 and 10, have 60 time points. Now, let us implement this <tt class="docutils literal"><span class="pre">ParseDICOMDir</span></tt> node.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="c">#Node ParseDICOMDIR - for creating a nicer nifti overview textfile</span>
<span class="n">dcminfo</span> <span class="o">=</span> <span class="n">pe</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="n">fs</span><span class="o">.</span><span class="n">ParseDICOMDir</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;dcminfo&quot;</span><span class="p">)</span>
<span class="n">dcminfo</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">sortbyrun</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">dcminfo</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">summarize</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">dcminfo</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">dicom_info_file</span> <span class="o">=</span> <span class="s">&#39;nifti_overview.txt&#39;</span>
</pre></div>
</div>
<p>As before with the dicom2nifti node, we have the problem with the dcminfo node, that the input variable <tt class="docutils literal"><span class="pre">dicom_dir</span></tt> changes for each subject. And as before, we will see how to handle this issue during the connection of the nodes.</p>
</div>
<div class="section" id="define-pipeline">
<h3>Define pipeline<a class="headerlink" href="#define-pipeline" title="Permalink to this headline">¶</a></h3>
<p>After we&#8217;ve defined all the nodes we want to use, we are ready to implement the preparation pipeline:</p>
<div class="highlight-py"><div class="highlight"><pre><span class="c">#Initiation of the preparation pipeline</span>
<span class="n">prepareflow</span> <span class="o">=</span> <span class="n">pe</span><span class="o">.</span><span class="n">Workflow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;prepareflow&quot;</span><span class="p">)</span>

<span class="c">#Define where the workingdir of the all_consuming_workflow should be stored at</span>
<span class="n">prepareflow</span><span class="o">.</span><span class="n">base_dir</span> <span class="o">=</span> <span class="n">experiment_dir</span> <span class="o">+</span> <span class="s">&#39;/workingdir_prepareflow&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="specify-node-connections">
<h3>Specify node connections<a class="headerlink" href="#specify-node-connections" title="Permalink to this headline">¶</a></h3>
<p>Now we&#8217;ve defined all the nodes and implemented the preparation pipeline. The only thing missing is the connection of the different nodes in the pipeline. But before we can do this, it is important to be aware about outputs, that get created and the inputs that have to be provided and more importantly how they look like.</p>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><strong>infosource</strong>:</div>
<div class="line">This node provides an output called <tt class="docutils literal"><span class="pre">subject_id</span></tt> that is either</div>
<div class="line"><tt class="docutils literal"><span class="pre">'subject1'</span></tt>,</div>
<div class="line"><tt class="docutils literal"><span class="pre">'subject2'</span></tt>,</div>
<div class="line"><tt class="docutils literal"><span class="pre">'subject3'</span></tt>,</div>
<div class="line"><tt class="docutils literal"><span class="pre">'subject4'</span></tt>.</div>
<div class="line"><br /></div>
<div class="line"><strong>dicom2nifti</strong>:</div>
<div class="line">This node needs <tt class="docutils literal"><span class="pre">dicom_dir</span></tt> as an input that is either:</div>
<div class="line"><tt class="docutils literal"><span class="pre">'~SOMEPATH/experiment/dicom/subject1/'</span></tt>,</div>
<div class="line"><tt class="docutils literal"><span class="pre">'~SOMEPATH/experiment/dicom/subject2/'</span></tt>,</div>
<div class="line"><tt class="docutils literal"><span class="pre">'~SOMEPATH/experiment/dicom/subject3/'</span></tt>,</div>
<div class="line"><tt class="docutils literal"><span class="pre">'~SOMEPATH/experiment/dicom/subject4/'</span></tt>.</div>
<div class="line"><br /></div>
<div class="line"><strong>dcminfo</strong>:</div>
<div class="line">This node needs <tt class="docutils literal"><span class="pre">dicom_dir</span></tt> as an input that is either:</div>
<div class="line"><tt class="docutils literal"><span class="pre">'~SOMEPATH/experiment/data/subject1/'</span></tt>,</div>
<div class="line"><tt class="docutils literal"><span class="pre">'~SOMEPATH/experiment/data/subject2/'</span></tt>,</div>
<div class="line"><tt class="docutils literal"><span class="pre">'~SOMEPATH/experiment/data/subject3/'</span></tt>,</div>
<div class="line"><tt class="docutils literal"><span class="pre">'~SOMEPATH/experiment/data/subject4/'</span></tt>.</div>
</div>
<p>As you can see, for both nodes <tt class="docutils literal"><span class="pre">dicom2nifti</span></tt> and <tt class="docutils literal"><span class="pre">dcminfo</span></tt> the input from dicom_dir does change for each subject. But so also do the outputs of <tt class="docutils literal"><span class="pre">infosource</span></tt>. The only thing we have to do is to take the output <tt class="docutils literal"><span class="pre">'subject1'</span></tt> from <tt class="docutils literal"><span class="pre">infosource</span></tt> and change it into <tt class="docutils literal"><span class="pre">'~SOMEPATH/experiment/dicom/subject1/'</span></tt> for <tt class="docutils literal"><span class="pre">dicom2nifti</span></tt> and into <tt class="docutils literal"><span class="pre">'~SOMEPATH/experiment/data/subject1/'</span></tt> for <tt class="docutils literal"><span class="pre">dcminfo</span></tt>. This can be accomplished by inserting a function into the connection process.</p>
<p>Let&#8217;s call this function <tt class="docutils literal"><span class="pre">pathfinder</span></tt>, which takes as arguments the subjectname and the foldername (either <tt class="docutils literal"><span class="pre">dicom</span></tt> or <tt class="docutils literal"><span class="pre">data</span></tt>) and returns <tt class="docutils literal"><span class="pre">'~SOMEPATH/experiment/foldername/subjec_name/'</span></tt>.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="k">def</span> <span class="nf">pathfinder</span><span class="p">(</span><span class="n">subjectname</span><span class="p">,</span> <span class="n">foldername</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">experiment_dir</span><span class="p">,</span> <span class="n">foldername</span><span class="p">,</span> <span class="n">subjectname</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we can start with the connection of the nodes.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="c">#Connect all components</span>
<span class="n">prepareflow</span><span class="o">.</span><span class="n">connect</span><span class="p">([(</span><span class="n">infosource</span><span class="p">,</span> <span class="n">dicom2nifti</span><span class="p">,[(</span><span class="s">&#39;subject_id&#39;</span><span class="p">,</span> <span class="s">&#39;subject_id&#39;</span><span class="p">)]),</span>
                     <span class="p">(</span><span class="n">infosource</span><span class="p">,</span> <span class="n">dicom2nifti</span><span class="p">,[((</span><span class="s">&#39;subject_id&#39;</span><span class="p">,</span> <span class="n">pathfinder</span><span class="p">,</span> <span class="s">&#39;dicom_dir_name&#39;</span><span class="p">),</span>
                                                 <span class="s">&#39;dicom_dir&#39;</span><span class="p">)]),</span>
                     <span class="p">(</span><span class="n">infosource</span><span class="p">,</span> <span class="n">dcminfo</span><span class="p">,[((</span><span class="s">&#39;subject_id&#39;</span><span class="p">,</span> <span class="n">pathfinder</span><span class="p">,</span> <span class="s">&#39;dicom_dir_name&#39;</span><span class="p">),</span>
                                             <span class="s">&#39;dicom_dir&#39;</span><span class="p">)]),</span>
                     <span class="p">])</span>
</pre></div>
</div>
<p>Perhaps it&#8217;s best if we take a closer look at the second connection. As it is written, the function <tt class="docutils literal"><span class="pre">pathfinder</span></tt> takes <tt class="docutils literal"><span class="pre">'subject_id'</span></tt> as its first argument which will represent <tt class="docutils literal"><span class="pre">subjectname</span></tt> in the function. <tt class="docutils literal"><span class="pre">'dicom_dir_name'</span></tt> will be given as the second argument <tt class="docutils literal"><span class="pre">foldername</span></tt> to the <tt class="docutils literal"><span class="pre">pathfinder</span></tt> function. The return value of the <tt class="docutils literal"><span class="pre">pathfinder</span></tt> function  will than be sent as input <tt class="docutils literal"><span class="pre">'dicom_dir'</span></tt> to the <tt class="docutils literal"><span class="pre">dicom2nifti</span></tt> node.</p>
</div>
<div class="section" id="important-for-nipype-0-4-users">
<h3>Important for Nipype 0.4 users<a class="headerlink" href="#important-for-nipype-0-4-users" title="Permalink to this headline">¶</a></h3>
<p>There&#8217;s an important issue about functions you have to consider in Nipype Version 0.4. If you would want to run the pathfinder function above you would encounter following error:</p>
<p><strong>NameError:</strong> <tt class="docutils literal"><span class="pre">(&quot;global</span> <span class="pre">name</span> <span class="pre">'os'</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">defined&quot;,</span> <span class="pre">'Due</span> <span class="pre">to</span> <span class="pre">engine</span> <span class="pre">constraints</span> <span class="pre">all</span> <span class="pre">imports</span> <span class="pre">have</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">done</span> <span class="pre">inside</span> <span class="pre">each</span> <span class="pre">function</span> <span class="pre">definition')</span></tt></p>
<p>This occurs because all values that you are using in a function have to be specified or imported within it&#8217;s boundaries. Therefore we have to extend the function a bit by importing the <tt class="docutils literal"><span class="pre">os</span></tt> module and specifying the experiment_dir variable.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="k">def</span> <span class="nf">pathfinder</span><span class="p">(</span><span class="n">subject</span><span class="p">,</span> <span class="n">foldername</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">os</span>
    <span class="n">experiment_dir</span> <span class="o">=</span> <span class="s">&#39;~SOMEPATH/experiment&#39;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">experiment_dir</span><span class="p">,</span> <span class="n">foldername</span><span class="p">,</span> <span class="n">subject</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="run-pipeline">
<h3>Run pipeline<a class="headerlink" href="#run-pipeline" title="Permalink to this headline">¶</a></h3>
<p>After the connection of the nodes there is only one last thing to do. To actually run the pipeline.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="n">prepareflow</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">plugin</span><span class="o">=</span><span class="s">&#39;MultiProc&#39;</span><span class="p">,</span> <span class="n">plugin_args</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;n_procs&#39;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<div class="last line-block">
<div class="line">After running the prepareflow a folder called <strong>data</strong> gets created that contains all nifti files for each</div>
<div class="line">subject. For further work it is recommended to rename those files. For example:</div>
<div class="line">- <tt class="docutils literal"><span class="pre">578000-4.nii</span></tt> into <tt class="docutils literal"><span class="pre">struct.nii</span></tt> because it is the T1 file</div>
<div class="line">- <tt class="docutils literal"><span class="pre">578000-9.nii</span></tt> into <tt class="docutils literal"><span class="pre">func1.nii</span></tt> because it is the first functional run file</div>
<div class="line">- <tt class="docutils literal"><span class="pre">578000-10.nii</span></tt> into <tt class="docutils literal"><span class="pre">func2.nii</span></tt> because it is the second functional run file</div>
</div>
</div>
</div>
<div class="section" id="clean-up-optional">
<h3>Clean up (optional)<a class="headerlink" href="#clean-up-optional" title="Permalink to this headline">¶</a></h3>
<p>After running the prepareflow we now have a folder called <strong>data</strong> that contains the converted nifti files. Additionally the pipeline has created a folder <strong>workingdir_prepareflow</strong> which contains a lot of unnecessary outputs. But within this pile of data lie our <tt class="docutils literal"><span class="pre">nifti_overview.txt</span></tt> files for each subject, created by the <tt class="docutils literal"><span class="pre">dcminfo</span> <span class="pre">node</span></tt>. That&#8217;s why I would recommend to add some additional python code after the run command to save those outputs in the corresponding subject subfolders in the data folder.</p>
<p>In our case the data we are interested in is in the folder <tt class="docutils literal"><span class="pre">'~SOMEPATH/experiment/workingdir_prepareflow/</span>
<span class="pre">prepareflow/_subject_id_subject1/dcminfo'</span></tt> and we want to move it into <tt class="docutils literal"><span class="pre">'/mindhive/gablab/u/mnotter/Desktop/TEST/data/subject1'</span></tt>. This can be accomplished with the following code:</p>
<div class="highlight-py"><div class="highlight"><pre><span class="c">#to run the loop for each subject</span>
<span class="k">for</span> <span class="n">subject</span> <span class="ow">in</span> <span class="n">subjects_list</span><span class="p">:</span>

    <span class="c">#specify where the nifti_overview.txt file is stored at</span>
    <span class="n">from_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">prepareflow</span><span class="o">.</span><span class="n">base_dir</span><span class="p">,</span><span class="n">prepareflow</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="s">&#39;_subject_id_</span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="n">subject</span><span class="p">,</span>
                             <span class="n">dcminfo</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">dcminfo</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">dicom_info_file</span><span class="p">)</span>

    <span class="c">#specify where to store the nifti_overview.txt file at</span>
    <span class="n">to_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dicom2nifti</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">base_output_dir</span><span class="p">,</span><span class="n">subject</span><span class="p">)</span>

    <span class="c">#with os.system(&#39;text&#39;) you&#39;re able to state the command &#39;text&#39; in your terminal</span>
    <span class="c">#therefore we use mv to move the date</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">&#39;mv </span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">from_path</span><span class="p">,</span> <span class="n">to_path</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<div class="last line-block">
<div class="line"><strong>Following are the values of the variables we are using:</strong></div>
<div class="line"><tt class="docutils literal"><span class="pre">prepareflow.base_dir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">=</span> <span class="pre">'~SOMEPATH/experiment/workingdir_prepareflow'</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">prepareflow.name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">=</span> <span class="pre">'prepareflow'</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">'_subject_id_%s'%subject</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">=</span> <span class="pre">'_subject_id_subject1'</span></tt> for the first run</div>
<div class="line"><tt class="docutils literal"><span class="pre">dcminfo.name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">=</span> <span class="pre">'dcminfo'</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">dcminfo.inputs.dicom_info_file</span>&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">=</span> <span class="pre">'nifti_overview.txt'</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">dicom2nifti.inputs.base_output_dir</span> <span class="pre">=</span> <span class="pre">'~SOMEPATH/experiment/data'</span></tt></div>
</div>
</div>
<p>To finally delete the workingdirectory of the prepare pipeline with all it&#8217;s content we can use the command <tt class="docutils literal"><span class="pre">rm</span> <span class="pre">-rf</span> <span class="pre">~SOMEPATH/experiment/workingdir_prepareflow</span></tt> and we&#8217;re done.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">&#39;rm -rf </span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="n">prepareflow</span><span class="o">.</span><span class="n">base_dir</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">The code to this section can be found here: <a class="reference external" href="http://github.com/miykael/nipype-beginner-s-guide/blob/master/dicom2nifti.py">dicom2nifti.py</a></p>
</div>
</div>
</div>
<div class="section" id="how-to-create-and-read-graph-dot-files">
<h2>How to create and read graph.dot files<a class="headerlink" href="#how-to-create-and-read-graph-dot-files" title="Permalink to this headline">¶</a></h2>
<p>After the connection of all nodes is established we are able to create a graph.dot file which gives us a very good overview over our pipeline. For the example above, the command would simply be:</p>
<div class="highlight-py"><div class="highlight"><pre><span class="n">prepareflow</span><span class="o">.</span><span class="n">write_graph</span><span class="p">(</span><span class="n">graph2use</span><span class="o">=</span><span class="s">&#39;flat&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>There are different kinds of graphs you can create. But basically there is a simple overview graph called graph.dot that shows you the basic connections between nodes. In the more detailed version which creates a graph_detailed.dot file you can also see which outputs and inputs are connected together.</p>
<div class="section" id="graph2use-flat-graph-dot">
<h3>graph2use=&#8217;flat&#8217; - graph.dot<a class="headerlink" href="#graph2use-flat-graph-dot" title="Permalink to this headline">¶</a></h3>
<p>In the normal-dot file you can see how the nodes are connected generally. The name is composed in the format of <tt class="docutils literal"><span class="pre">nodename.algorithm.interface</span></tt></p>
<img alt="_images/graph_normal_flat-colored.png" src="_images/graph_normal_flat-colored.png" style="width: 756px;" />
</div>
<div class="section" id="graph2use-flat-graph-detailed-dot">
<h3>graph2use=&#8217;flat&#8217; - graph_detailed.dot<a class="headerlink" href="#graph2use-flat-graph-detailed-dot" title="Permalink to this headline">¶</a></h3>
<p>The detailed version of the graph gives you better informations about which input is connected to which output.</p>
<img alt="_images/graph_detailed_flat-colored.png" src="_images/graph_detailed_flat-colored.png" />
</div>
<div class="section" id="graph2use-exec-graph-detailed-dot">
<h3>graph2use=&#8217;exec&#8217; - graph_detailed.dot<a class="headerlink" href="#graph2use-exec-graph-detailed-dot" title="Permalink to this headline">¶</a></h3>
<p>If you set <tt class="docutils literal"><span class="pre">graph2use</span></tt> to <tt class="docutils literal"><span class="pre">'exec'</span></tt> you get the same level of detail as if you would run it with <tt class="docutils literal"><span class="pre">'flat'</span></tt> but all the runs that would be running in parallel are shown at once. In this case there would be three runs in parallel: <cite>a0</cite>, <cite>a1</cite> and <cite>a2</cite></p>
<img alt="_images/graph_detailed_exec-colored.png" src="_images/graph_detailed_exec-colored.png" style="width: 1134px;" />
</div>
</div>
<div class="section" id="run-recon-all-with-nipype">
<h2>Run Recon-All with Nipype<a class="headerlink" href="#run-recon-all-with-nipype" title="Permalink to this headline">¶</a></h2>
<p>Now that we are able to build a preparation pipeline, it will be a piece of cake to create a recon-all pipeline. Only after executing the recon-all algorithm will we be able to use all the benefits of the FreeSurfer interface.</p>
<div class="section" id="prepare-modules-and-important-variables">
<h3>Prepare modules and important variables<a class="headerlink" href="#prepare-modules-and-important-variables" title="Permalink to this headline">¶</a></h3>
<p>First let us again import all necessary modules and specify the experiment specific parameters.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>                                    <span class="c"># system functions</span>
<span class="kn">import</span> <span class="nn">nipype.interfaces.freesurfer</span> <span class="kn">as</span> <span class="nn">fs</span>    <span class="c"># freesurfer</span>
<span class="kn">import</span> <span class="nn">nipype.interfaces.utility</span> <span class="kn">as</span> <span class="nn">util</span>     <span class="c"># utility</span>
<span class="kn">import</span> <span class="nn">nipype.pipeline.engine</span> <span class="kn">as</span> <span class="nn">pe</span>          <span class="c"># pypeline engine</span>

<span class="c">#Specification of the folder where the dicom-files are located at</span>
<span class="n">experiment_dir</span> <span class="o">=</span> <span class="s">&#39;~SOMEPATH/experiment&#39;</span>

<span class="c">#Specification of a list containing the identifier of each subject</span>
<span class="n">subjects_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;subject1&#39;</span><span class="p">,</span><span class="s">&#39;subject2&#39;</span><span class="p">,</span><span class="s">&#39;subject3&#39;</span><span class="p">,</span><span class="s">&#39;subject4&#39;</span><span class="p">]</span>

<span class="c">#Specification of the output folder - where the T1 file can be found</span>
<span class="n">data_dir_name</span> <span class="o">=</span> <span class="s">&#39;data&#39;</span>

<span class="c">#Node: SubjectData - we use IdentityInterface to create our own node, to specify</span>
<span class="c">#      the list of subjects the pipeline should be executed on</span>
<span class="n">infosource</span> <span class="o">=</span> <span class="n">pe</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="n">util</span><span class="o">.</span><span class="n">IdentityInterface</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;subject_id&#39;</span><span class="p">]),</span>
                                                      <span class="n">name</span><span class="o">=</span><span class="s">&quot;infosource&quot;</span><span class="p">)</span>
<span class="n">infosource</span><span class="o">.</span><span class="n">iterables</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;subject_id&#39;</span><span class="p">,</span> <span class="n">subjects_list</span><span class="p">)</span>

<span class="c">#Node: Recon-All - to generate surfaces and parcellations of structural</span>
<span class="c">#                  data from anatomical images of a subject.</span>
<span class="n">reconall</span> <span class="o">=</span> <span class="n">pe</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="n">fs</span><span class="o">.</span><span class="n">ReconAll</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;reconall&quot;</span><span class="p">)</span>
<span class="n">reconall</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">directive</span> <span class="o">=</span> <span class="s">&#39;all&#39;</span>

<span class="c">#Because the freesurfer_data folder doesn&#39;t exist yet</span>
<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">&#39;mkdir </span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="n">experiment_dir</span><span class="o">+</span><span class="s">&#39;/freesurfer_data&#39;</span><span class="p">)</span>

<span class="n">reconall</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">subjects_dir</span> <span class="o">=</span> <span class="n">experiment_dir</span> <span class="o">+</span> <span class="s">&#39;/freesurfer_data&#39;</span>
<span class="n">T1_identifier</span> <span class="o">=</span> <span class="s">&#39;struct.nii&#39;</span> <span class="c">#This is the name we manually gave the T1-file</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<div class="last line-block">
<div class="line">If we don&#8217;t create the <tt class="docutils literal"><span class="pre">freesurfer_data</span></tt> folder before we specify the <tt class="docutils literal"><span class="pre">subjects_dir</span></tt> variable</div>
<div class="line">we would get following error:</div>
<div class="line"><strong>TraitError:</strong> <tt class="docutils literal"><span class="pre">The</span> <span class="pre">'subjects_dir'</span> <span class="pre">trait</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">ReconAllInputSpec</span> <span class="pre">instance</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">an</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">existing</span> <span class="pre">directory</span> <span class="pre">name,</span> <span class="pre">but</span> <span class="pre">a</span> <span class="pre">value</span> <span class="pre">of</span> <span class="pre">'~SOMEPATH/experiment/freesurfer_data'</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&lt;type</span> <span class="pre">'str'&gt;</span> <span class="pre">was</span> <span class="pre">specified.</span></tt></div>
</div>
</div>
<p>Now we are ready to implement the pipeline and connection the <tt class="docutils literal"><span class="pre">infosource</span></tt> with the <tt class="docutils literal"><span class="pre">reconall</span></tt> node. As in the example about the conversion of the dicoms into niftis, we will use again a function called <tt class="docutils literal"><span class="pre">pathfinder</span></tt> to specify the exact location of the T1-file of each subject. Note that the function takes three arguments in this case.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="c">#implementation of the workflow</span>
<span class="n">reconflow</span> <span class="o">=</span> <span class="n">pe</span><span class="o">.</span><span class="n">Workflow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;reconflow&quot;</span><span class="p">)</span>
<span class="n">reconflow</span><span class="o">.</span><span class="n">base_dir</span> <span class="o">=</span> <span class="n">experiment_dir</span> <span class="o">+</span> <span class="s">&#39;/workingdir_reconflow&#39;</span>

<span class="c">#defenition of the pathfinder function</span>
<span class="k">def</span> <span class="nf">pathfinder</span><span class="p">(</span><span class="n">subject</span><span class="p">,</span> <span class="n">foldername</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">os</span>
    <span class="n">experiment_dir</span> <span class="o">=</span> <span class="s">&#39;~SOMEPATH/experiment/experiment&#39;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">experiment_dir</span><span class="p">,</span> <span class="n">foldername</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>

<span class="c">#connection of the nodes</span>
<span class="n">reconflow</span><span class="o">.</span><span class="n">connect</span><span class="p">([(</span><span class="n">infosource</span><span class="p">,</span> <span class="n">reconall</span><span class="p">,[(</span><span class="s">&#39;subject_id&#39;</span><span class="p">,</span> <span class="s">&#39;subject_id&#39;</span><span class="p">)]),</span>
                   <span class="p">(</span><span class="n">infosource</span><span class="p">,</span> <span class="n">reconall</span><span class="p">,[((</span><span class="s">&#39;subject_id&#39;</span><span class="p">,</span> <span class="n">pathfinder</span><span class="p">,</span> <span class="n">data_dir_name</span><span class="p">,</span>
                                             <span class="n">T1_identifier</span><span class="p">),</span><span class="s">&#39;T1_files&#39;</span><span class="p">)]),</span>
                   <span class="p">])</span>

<span class="c">#run the recon-all pipeline (as recommended in serial mode)</span>
<span class="n">reconflow</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">plugin</span><span class="o">=</span><span class="s">&#39;Linear&#39;</span><span class="p">)</span>

<span class="c">#to delete the workingdir of the reconflow we use again the shell-command &quot;rm&quot;.</span>
<span class="c">#The important recon-all files are already stored in the &quot;freesurfer_data&quot; folder</span>
<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">&#39;rm -rf </span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="n">reconflow</span><span class="o">.</span><span class="n">base_dir</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">The code to this section can be found here: <a class="reference external" href="http://github.com/miykael/nipype-beginner-s-guide/blob/master/recon-all.py">recon-all.py</a></p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="firstLevelExample.html" title="Example of a first level analysis pipeline"
             >next</a> |</li>
        <li class="right" >
          <a href="howToBuildAPipeline.html" title="How to build a pipeline"
             >previous</a> |</li>
        <li><a href="index.html">Beginner&#39;s Guide to Nipype v0.4 v0.3 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2011, Michael Notter.
      Last updated on August 05, 2011.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.1.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
</div>

  </body>
</html>